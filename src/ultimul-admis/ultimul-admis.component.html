<div
  class="w-[95%] max-w-3xl mx-auto mt-10 bg-white/90 backdrop-blur rounded-2xl p-6 shadow-lg transition-all duration-500"
>
  <h2 class="text-center text-xl font-semibold text-purple-700 mb-4">
    Poziția ultimului admis pe ani - liceu și specializare
  </h2>

  <div class="flex flex-col md:flex-row gap-4 mb-4">
    <p-dropdown
      [options]="judete"
      [(ngModel)]="selectedJudet"
      (ngModelChange)="onJudetChange($event)"
      placeholder="Selectează județul"
      optionLabel="label"
      [showClear]="true"
      [styleClass]="'w-full p-inputtext-sm text-base'"
      class="w-full md:w-1/3 mb-4"
    />

    <p-dropdown
      [options]="licee"
      [(ngModel)]="selectedLiceu"
      (ngModelChange)="onLiceuChange($event)"
      [disabled]="!selectedJudet"
      placeholder="Selectează liceul"
      optionLabel="label"
      [filter]="true"
      [showClear]="true"
      [styleClass]="'w-full p-inputtext-sm text-base'"
      class="w-full md:w-1/2"
    />

    <p-dropdown
      [options]="specializari"
      [(ngModel)]="selectedSpec"
      [disabled]="!selectedLiceu"
      placeholder="Selectează specializarea"
      optionLabel="label"
      [showClear]="true"
      [styleClass]="'w-full p-inputtext-sm text-base'"
      class="w-full md:w-1/2"
    />
  </div>

  <div class="flex flex-wrap justify-between items-center gap-4 mb-4">
    <div class="flex gap-2">
      <button
        pButton
        type="button"
        icon="pi pi-plus"
        label="Adaugă filtru"
        (click)="adaugaFiltru()"
        class="bg-purple-700 hover:bg-purple-800 text-white p-button-sm font-semibold"
      ></button>

      <button
        pButton
        type="button"
        icon="pi pi-trash"
        label="Curăță filtre"
        (click)="curataFiltre()"
        class="bg-gray-300 hover:bg-gray-400 text-gray-800 p-button-sm font-semibold"
      ></button>
    </div>

    <div
      *ngIf="filtreActive.length > 0; else faraFiltru"
      class="flex flex-wrap gap-2 text-sm"
    >
      <span
        *ngFor="let f of filtreActive"
        class="bg-purple-100 text-purple-800 px-3 py-1 rounded-md shadow-sm"
      >
        {{ f }}
      </span>
    </div>

    <ng-template #faraFiltru>
      <span class="text-gray-500 text-sm">Niciun filtru activ</span>
    </ng-template>
  </div>

  <div>
    <canvas
      baseChart
      [datasets]="chartData"
      [labels]="chartLabels"
      [options]="chartOptions"
      [type]="chartType"
    ></canvas>
  </div>
</div>
